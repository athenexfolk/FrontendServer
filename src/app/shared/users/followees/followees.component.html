<div
  *ngIf="followees"
  class="flex md:flex-col gap-4 justify-between items-center"
>
  <ng-container *ngIf="followees.followeeIds.length; else emptyFollowee">
    <div class="flex -space-x-3">
      <app-avatar
        *ngFor="let followee of followees.followeeIds"
        [src]="followee"
        [size]="8"
        [hasShadow]="true"
      />
      <div
        *ngIf="leftCount > 0"
        class="w-8 h-8 rounded-full text-sm shadow-sm shadow-zinc-400 bg-white flex justify-center items-center"
      >
        +{{ leftCount }}
      </div>
    </div>
    <button
      (click)="openShowAll()"
      class="px-2 py-1 flex justify-center items-center gap-2 text-sm text-zinc-500 hover:text-zinc-800"
    >
      ดูผู้ติดตามทั้งหมด
      <span class="material-symbols-rounded"> arrow_forward </span>
    </button>
  </ng-container>
</div>

<ng-template #emptyFollowee>
  <p class="text-center">บุคคลนี้ยังไม่ได้ติดตามใครเลย</p>
</ng-template>

<ng-container *ngIf="isShowAllOpen">
  <app-overlay>
    <div class="max-w-sm w-full h-full bg-white p-4 rounded-lg">
      <div class="flex gap-4 justify-between items-center mb-4">
        <h3 class="text-xl font-bold">ผู้ที่บุคคลนี้ติดตามทั้งหมด</h3>
        <button
          (click)="closeShowAll()"
          class="p-2 rounded-lg bg-zinc-100 hover:bg-red-50 hover:text-red-600 flex justify-center items-center"
        >
          <span class="material-symbols-rounded">close</span>
        </button>
      </div>
      <div class="flex flex-col gap-4">
        <app-profile-header
          *ngFor="let profile of profileHeader"
          (click)="closeShowAll()"
          [authorId]="profile.userId"
          [name]="profile.displayName"
        ></app-profile-header>
      </div>
    </div>
  </app-overlay>
</ng-container>
